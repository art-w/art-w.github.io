<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (webdriver.Webdriver.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">webdriver</a> &#x00BB; <a href="../index.html">Webdriver</a> &#x00BB; S</nav><h1>Module type <code>Webdriver.S</code></h1></header><div><div class="spec include"><div class="doc"><aside><p>WebDriver is a <a href="https://www.w3.org/TR/webdriver/">W3C specification</a> to remote control a web browser. This allow you to simulate and test user interactions on your website in real life conditions, with javascript enabled, on as many browsers and operating systems you can get your hands on.</p></aside><dl><dt class="spec type" id="type-json"><a href="#type-json" class="anchor"></a><code><span class="keyword">type</span> json</code><code> = Yojson.Safe.t</code></dt><dt class="spec type" id="type-io"><a href="#type-io" class="anchor"></a><code><span class="keyword">type</span> <span>'a io</span></code></dt><dd><p>The client I/O monad, within which communication happens with the WebDriver server.</p></dd></dl><section><header><h2 id="commands"><a href="#commands" class="anchor"></a>Commands</h2></header><dl><dt class="spec type" id="type-session"><a href="#type-session" class="anchor"></a><code><span class="keyword">type</span> session</code></dt><dd><p>A connection to the WebDriver server. A session statefully holds the active windows, tabs, cookies, and other state required by the browser.</p></dd></dl><dl><dt class="spec type" id="type-cmd"><a href="#type-cmd" class="anchor"></a><code><span class="keyword">type</span> <span>'a cmd</span></code><code> = <span>session:<a href="index.html#type-session">session</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-io">io</a></span></code></dt><dd><p>Every browser command takes place within a <code>session</code>.</p></dd></dl><dl><dt class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Since the <code>~session</code> parameter is generally constant, this module provides a reader monad to sequence multiple commands within the same session. You can either pass explicitly the <code>~session</code> argument or open this module.</p></dd></dl><dl><dt class="spec module" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span class="keyword">module</span> <a href="Error/index.html">Error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>All potentital errors raised by the WebDriver protocol.</p></dd></dl><dl><dt class="spec exception" id="exception-Webdriver"><a href="#exception-Webdriver" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Webdriver</span> <span class="keyword">of</span> <a href="Error/index.html#type-t">Error.t</a></code></dt><dd><p>Every command that fails raises this exception, which contains some hint as to what went wrong.</p></dd></dl></section><section><header><h2 id="sessions"><a href="#sessions" class="anchor"></a>Sessions</h2><p>In order to create a <code>session</code>, a connection to a WebDriver-compatible browser must be established:</p><ul><li>The <code>host</code> is a url where the WebDriver server can be accessed, for example <code>&quot;http://localhost:4444&quot;</code>.</li><li>The <code>capabilities</code> describe the requested browser settings.</li></ul></header><dl><dt class="spec module" id="module-Capabilities"><a href="#module-Capabilities" class="anchor"></a><code><span class="keyword">module</span> <a href="Capabilities/index.html">Capabilities</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The requested capabilities when creating a new session.</p></dd></dl><dl><dt class="spec module" id="module-Session"><a href="#module-Session" class="anchor"></a><code><span class="keyword">module</span> <a href="Session/index.html">Session</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>For creating and deleting sessions manually.</p></dd></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span>host:string</span> <span>&#45;&gt;</span> <a href="Capabilities/index.html#type-t">Capabilities.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-cmd">cmd</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-io">io</a></span></code></dt><dd><p><code>run ~host capabilities cmd</code> is a helper function to create a new session on <code>host</code> with the required <code>capabilities</code>, execute the <code>cmd</code> within that session, and finally ensure that the session is deleted on termination of <code>cmd</code> (from its natural death or an exception.)</p></dd></dl><dl><dt class="spec module" id="module-Timeouts"><a href="#module-Timeouts" class="anchor"></a><code><span class="keyword">module</span> <a href="Timeouts/index.html">Timeouts</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Configure the timeouts for page loads, script execution and the implicit wait when searching for elements on a page.</p></dd></dl></section><section><header><h2 id="navigation"><a href="#navigation" class="anchor"></a>Navigation</h2></header><dl><dt class="spec value" id="val-goto"><a href="#val-goto" class="anchor"></a><code><span class="keyword">val</span> goto : string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>goto url</code> ask the browser to visit the page at <code>url</code>.</p></dd></dl><dl><dt class="spec value" id="val-current_url"><a href="#val-current_url" class="anchor"></a><code><span class="keyword">val</span> current_url : <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The current url.</p></dd></dl><dl><dt class="spec value" id="val-back"><a href="#val-back" class="anchor"></a><code><span class="keyword">val</span> back : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Click the browser <code>back</code> button, to reload the previous url in history.</p></dd></dl><dl><dt class="spec value" id="val-forward"><a href="#val-forward" class="anchor"></a><code><span class="keyword">val</span> forward : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Click the <code>forward</code> button, to move forward to the next url in history.</p></dd></dl><dl><dt class="spec value" id="val-refresh"><a href="#val-refresh" class="anchor"></a><code><span class="keyword">val</span> refresh : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Refresh the current url.</p></dd></dl><dl><dt class="spec module" id="module-Cookie"><a href="#module-Cookie" class="anchor"></a><code><span class="keyword">module</span> <a href="Cookie/index.html">Cookie</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Cookies management.</p></dd></dl></section><section><header><h2 id="html-elements"><a href="#html-elements" class="anchor"></a>HTML Elements</h2></header><dl><dt class="spec type" id="type-elt"><a href="#type-elt" class="anchor"></a><code><span class="keyword">type</span> elt</code></dt><dd><p>An HTML element.</p></dd></dl><dl><dt class="spec type" id="type-using"><a href="#type-using" class="anchor"></a><code><span class="keyword">type</span> using</code> = <code>[ </code><table class="variant"><tr id="type-using.css" class="anchored"><td class="def constructor"><a href="#type-using.css" class="anchor"></a><code>| </code><code>`css</code></td><td class="doc"><p>CSS selectors, like <code>&quot;h1 span&quot;</code></p></td></tr><tr id="type-using.link_text" class="anchored"><td class="def constructor"><a href="#type-using.link_text" class="anchor"></a><code>| </code><code>`link_text</code></td><td class="doc"><p>The exact text in an <code>&lt;a&gt;...&lt;/a&gt;</code></p></td></tr><tr id="type-using.partial_link_text" class="anchored"><td class="def constructor"><a href="#type-using.partial_link_text" class="anchor"></a><code>| </code><code>`partial_link_text</code></td><td class="doc"><p>The partial text present in a link</p></td></tr><tr id="type-using.tag_name" class="anchored"><td class="def constructor"><a href="#type-using.tag_name" class="anchor"></a><code>| </code><code>`tag_name</code></td><td class="doc"><p>the HTML tag name, like <code>&quot;h1&quot;</code> or <code>&quot;div&quot;</code></p></td></tr><tr id="type-using.xpath" class="anchored"><td class="def constructor"><a href="#type-using.xpath" class="anchor"></a><code>| </code><code>`xpath</code></td><td class="doc"><p>XPath query</p></td></tr></table><code> ]</code></dt><dd><p>A strategy to find an element on a page.</p></dd></dl><dl><dt class="spec value" id="val-find_first"><a href="#val-find_first" class="anchor"></a><code><span class="keyword">val</span> find_first : <span>?&#8288;from:<a href="index.html#type-elt">elt</a></span> <span>&#45;&gt;</span> <a href="index.html#type-using">using</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="index.html#type-elt">elt</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>find_first `using &quot;query&quot;</code> returns the first element that matches the <code>query</code> (interpreted with <code>using</code>). The element is searched inside the current frame of the current window, and if a <code>?from</code> parent element is provided, the search takes place inside it.</p><p><code>raise (Webdriver { error = `no_such_element ; _ })</code> otherwise.</p><pre><code class="ml">let* elt = find_first `css &quot;h1 a&quot; in ...
let* elt = find_first `xpath &quot;//h1//a&quot; in ...</code></pre></dd></dl><dl><dt class="spec value" id="val-find_all"><a href="#val-find_all" class="anchor"></a><code><span class="keyword">val</span> find_all : <span>?&#8288;from:<a href="index.html#type-elt">elt</a></span> <span>&#45;&gt;</span> <a href="index.html#type-using">using</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span><a href="index.html#type-elt">elt</a> list</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>find_all `using &quot;query&quot;</code> behaves like <a href="index.html#val-find_first"><code>find_first</code></a>, but returns a list of all elements matching the <code>query</code>.</p></dd></dl><dl><dt class="spec value" id="val-active"><a href="#val-active" class="anchor"></a><code><span class="keyword">val</span> active : <span><a href="index.html#type-elt">elt</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The currently <code>active</code> element on the page.</p></dd></dl></section><section><header><h2 id="inspecting-html-elements"><a href="#inspecting-html-elements" class="anchor"></a>Inspecting HTML elements</h2></header><dl><dt class="spec value" id="val-text"><a href="#val-text" class="anchor"></a><code><span class="keyword">val</span> text : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The inner <code>text</code> of an element, ignoring any other markup.</p></dd></dl><dl><dt class="spec value" id="val-tag_name"><a href="#val-tag_name" class="anchor"></a><code><span class="keyword">val</span> tag_name : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The HTML tag of an element, for example <code>&quot;div&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-attribute"><a href="#val-attribute" class="anchor"></a><code><span class="keyword">val</span> attribute : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>attribute e attr</code> returns the value of the HTML attribute <code>attr</code> of the element <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-property"><a href="#val-property" class="anchor"></a><code><span class="keyword">val</span> property : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>string option</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>property e prop</code> returns <code>Some</code> value of the DOM property <code>prop</code> of the element <code>e</code>, or <code>None</code> if undefined.</p></dd></dl><dl><dt class="spec value" id="val-is_selected"><a href="#val-is_selected" class="anchor"></a><code><span class="keyword">val</span> is_selected : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>bool <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The boolean status of a checkbox, a radio or an option in a select.</p></dd></dl><dl><dt class="spec value" id="val-is_enabled"><a href="#val-is_enabled" class="anchor"></a><code><span class="keyword">val</span> is_enabled : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>bool <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The boolean status of an interactive element.</p></dd></dl><dl><dt class="spec value" id="val-css"><a href="#val-css" class="anchor"></a><code><span class="keyword">val</span> css : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>css e prop</code> returns the computed value of the css property <code>prop</code> for the element <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-aria_role"><a href="#val-aria_role" class="anchor"></a><code><span class="keyword">val</span> aria_role : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>aria_role e</code> returns the accessibility role of the element <code>e</code>. See <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles">ARIA Roles on MDN</a></p></dd></dl><dl><dt class="spec value" id="val-aria_label"><a href="#val-aria_label" class="anchor"></a><code><span class="keyword">val</span> aria_label : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>aria_role e</code> returns the accessibility label of the element <code>e</code>. See <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_aria-label_attribute">ARIA Labels on MDN</a></p></dd></dl><dl><dt class="spec type" id="type-rect"><a href="#type-rect" class="anchor"></a><code><span class="keyword">type</span> rect</code><code> = </code><code>{</code><table class="record"><tr id="type-rect.x" class="anchored"><td class="def field"><a href="#type-rect.x" class="anchor"></a><code>x : int;</code></td></tr><tr id="type-rect.y" class="anchored"><td class="def field"><a href="#type-rect.y" class="anchor"></a><code>y : int;</code></td></tr><tr id="type-rect.width" class="anchored"><td class="def field"><a href="#type-rect.width" class="anchor"></a><code>width : int;</code></td></tr><tr id="type-rect.height" class="anchored"><td class="def field"><a href="#type-rect.height" class="anchor"></a><code>height : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-rect"><a href="#val-rect" class="anchor"></a><code><span class="keyword">val</span> rect : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span><a href="index.html#type-rect">rect</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The position and size of an element on the page.</p></dd></dl></section><section><header><h2 id="interactions"><a href="#interactions" class="anchor"></a>Interactions</h2></header><dl><dt class="spec value" id="val-click"><a href="#val-click" class="anchor"></a><code><span class="keyword">val</span> click : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Performs a mouse click on this element.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Clears the content of an input element.</p></dd></dl><dl><dt class="spec value" id="val-send_keys"><a href="#val-send_keys" class="anchor"></a><code><span class="keyword">val</span> send_keys : <a href="index.html#type-elt">elt</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>send_keys e str</code> sends the string <code>str</code> to an input element, as if typed from a keyboard. For special keys like <code>enter</code> or <code>backspace</code>, use the predefined values in the module <code>Key</code>:</p><pre><code class="ml">send_keys my_input (&quot;hello&quot; ^ Key.enter)</code></pre></dd></dl><dl><dt class="spec module" id="module-Key"><a href="#module-Key" class="anchor"></a><code><span class="keyword">module</span> <a href="Key/index.html">Key</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Special keys on a keyboard.</p></dd></dl><dl><dt class="spec type" id="type-action"><a href="#type-action" class="anchor"></a><code><span class="keyword">type</span> action</code></dt><dd><p>A sequence of interactions from a user device.</p></dd></dl><dl><dt class="spec value" id="val-perform"><a href="#val-perform" class="anchor"></a><code><span class="keyword">val</span> perform : <span><a href="index.html#type-action">action</a> list</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>perform actions</code> executes the sequence of actions for each input source. The actions are synchronized vertically, such that:</p><pre><code class="ml">perform [ mouse    [ `down button0 ; `pause  ; `up button0 ]
        ; keyboard [ `down &quot;a&quot;     ; `up &quot;a&quot; ; `pause      ]
        ]</code></pre><ul><li>The mouse starts a left click and the keyboard presses &quot;a&quot; simultaneously;</li><li>Then the keyboard releases the &quot;a&quot; key;</li><li>And finally the mouse releases the left click.</li></ul><p>The <code>`pause</code> action does nothing and is used for synchronization.</p><p>The pressed keys and buttons stay pressed at the end of the interaction, unless explicitly released.</p></dd></dl><dl><dt class="spec value" id="val-release"><a href="#val-release" class="anchor"></a><code><span class="keyword">val</span> release : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>release</code> any pending keys or button from previous interactions.</p></dd></dl><dl><dt class="spec value" id="val-none"><a href="#val-none" class="anchor"></a><code><span class="keyword">val</span> none : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><span>[ `pause ]</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt><dd><p>An inoperative device.</p></dd></dl><section><header><h3 id="keyboard-actions"><a href="#keyboard-actions" class="anchor"></a>Keyboard actions</h3></header><dl><dt class="spec type" id="type-key"><a href="#type-key" class="anchor"></a><code><span class="keyword">type</span> key</code> = <code>[ </code><table class="variant"><tr id="type-key.pause" class="anchored"><td class="def constructor"><a href="#type-key.pause" class="anchor"></a><code>| </code><code>`pause</code></td><td class="doc"><p>do nothing</p></td></tr><tr id="type-key.down" class="anchored"><td class="def constructor"><a href="#type-key.down" class="anchor"></a><code>| </code><code>`down <span class="keyword">of</span> <a href="Key/index.html#type-t">Key.t</a></code></td><td class="doc"><p>press down the key</p></td></tr><tr id="type-key.up" class="anchored"><td class="def constructor"><a href="#type-key.up" class="anchor"></a><code>| </code><code>`up <span class="keyword">of</span> <a href="Key/index.html#type-t">Key.t</a></code></td><td class="doc"><p>release a pressed key</p></td></tr></table><code> ]</code></dt><dd><p>An action from a keyboard.</p></dd></dl><dl><dt class="spec value" id="val-keyboard"><a href="#val-keyboard" class="anchor"></a><code><span class="keyword">val</span> keyboard : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-key">key</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt><dd><p><code>keyboard keys</code> is an action that</p></dd></dl></section><section><header><h3 id="pointer-actions"><a href="#pointer-actions" class="anchor"></a>Pointer actions</h3></header><dl><dt class="spec type" id="type-move"><a href="#type-move" class="anchor"></a><code><span class="keyword">type</span> move</code><code> = </code><code>{</code><table class="record"><tr id="type-move.move_duration" class="anchored"><td class="def field"><a href="#type-move.move_duration" class="anchor"></a><code>move_duration : int;</code></td><td class="doc"><p>time taken by the move</p></td></tr><tr id="type-move.move_origin" class="anchored"><td class="def field"><a href="#type-move.move_origin" class="anchor"></a><code>move_origin : <span>[ `viewport <span>| `pointer</span> <span><span>| `elt</span> of <a href="index.html#type-elt">elt</a></span> ]</span>;</code></td><td class="doc"><p>relative position of <code>move_x,move_y</code></p></td></tr><tr id="type-move.move_x" class="anchored"><td class="def field"><a href="#type-move.move_x" class="anchor"></a><code>move_x : int;</code></td></tr><tr id="type-move.move_y" class="anchored"><td class="def field"><a href="#type-move.move_y" class="anchor"></a><code>move_y : int;</code></td></tr></table><code>}</code></dt><dd><p>A mouse/pointer movement. The target destination <code>move_x,move_y</code> is relative to the origin:</p><ul><li>The <code>`viewport</code> uses the top left of the currently focused frame as the zero.</li><li>The <code>`pointer</code> uses the current position of the device on the screen.</li><li>The <code>`elt e</code> uses the top left position of the element <code>e</code> as the origin.</li></ul></dd></dl><dl><dt class="spec type" id="type-button"><a href="#type-button" class="anchor"></a><code><span class="keyword">type</span> button</code><code> = int</code></dt><dd><p>An integer representing the nth button on a mouse.</p></dd></dl><dl><dt class="spec value" id="val-button0"><a href="#val-button0" class="anchor"></a><code><span class="keyword">val</span> button0 : <a href="index.html#type-button">button</a></code></dt><dd><p>The left mouse button.</p></dd></dl><dl><dt class="spec value" id="val-button1"><a href="#val-button1" class="anchor"></a><code><span class="keyword">val</span> button1 : <a href="index.html#type-button">button</a></code></dt><dd><p>The right mouse button.</p></dd></dl><dl><dt class="spec type" id="type-pointer"><a href="#type-pointer" class="anchor"></a><code><span class="keyword">type</span> pointer</code> = <code>[ </code><table class="variant"><tr id="type-pointer.pause" class="anchored"><td class="def constructor"><a href="#type-pointer.pause" class="anchor"></a><code>| </code><code>`pause</code></td><td class="doc"><p>do nothing</p></td></tr><tr id="type-pointer.cancel" class="anchored"><td class="def constructor"><a href="#type-pointer.cancel" class="anchor"></a><code>| </code><code>`cancel</code></td><td class="doc"><p>cancel the pointer current action</p></td></tr><tr id="type-pointer.down" class="anchored"><td class="def constructor"><a href="#type-pointer.down" class="anchor"></a><code>| </code><code>`down <span class="keyword">of</span> <a href="index.html#type-button">button</a></code></td><td class="doc"><p>press down the button</p></td></tr><tr id="type-pointer.up" class="anchored"><td class="def constructor"><a href="#type-pointer.up" class="anchor"></a><code>| </code><code>`up <span class="keyword">of</span> <a href="index.html#type-button">button</a></code></td><td class="doc"><p>release a pressed button</p></td></tr><tr id="type-pointer.move" class="anchored"><td class="def constructor"><a href="#type-pointer.move" class="anchor"></a><code>| </code><code>`move <span class="keyword">of</span> <a href="index.html#type-move">move</a></code></td><td class="doc"><p>move the pointer</p></td></tr></table><code> ]</code></dt><dd><p>An action from a mouse/touch/pen device</p></dd></dl><dl><dt class="spec value" id="val-mouse"><a href="#val-mouse" class="anchor"></a><code><span class="keyword">val</span> mouse : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-pointer">pointer</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt><dd><p><code>mouse actions</code> describes the movement, click, etc of a mouse pointer.</p></dd></dl><dl><dt class="spec value" id="val-touch"><a href="#val-touch" class="anchor"></a><code><span class="keyword">val</span> touch : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-pointer">pointer</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt><dd><p><code>touch actions</code> describes the interactions of a touch finger device.</p></dd></dl><dl><dt class="spec value" id="val-pen"><a href="#val-pen" class="anchor"></a><code><span class="keyword">val</span> pen : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-pointer">pointer</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt><dd><p><code>pen actions</code> describes an interaction of a pencil.</p></dd></dl></section><section><header><h3 id="scroll-wheel-actions"><a href="#scroll-wheel-actions" class="anchor"></a>Scroll wheel actions</h3></header><dl><dt class="spec type" id="type-scroll"><a href="#type-scroll" class="anchor"></a><code><span class="keyword">type</span> scroll</code><code> = </code><code>{</code><table class="record"><tr id="type-scroll.scroll_duration" class="anchored"><td class="def field"><a href="#type-scroll.scroll_duration" class="anchor"></a><code>scroll_duration : int;</code></td><td class="doc"><p>time taken by the scroll</p></td></tr><tr id="type-scroll.scroll_origin" class="anchored"><td class="def field"><a href="#type-scroll.scroll_origin" class="anchor"></a><code>scroll_origin : <span>[ `viewport <span><span>| `elt</span> of <a href="index.html#type-elt">elt</a></span> ]</span>;</code></td><td class="doc"><p>relative position of <code>scroll_x,scroll_y</code></p></td></tr><tr id="type-scroll.scroll_x" class="anchored"><td class="def field"><a href="#type-scroll.scroll_x" class="anchor"></a><code>scroll_x : int;</code></td></tr><tr id="type-scroll.scroll_y" class="anchored"><td class="def field"><a href="#type-scroll.scroll_y" class="anchor"></a><code>scroll_y : int;</code></td></tr></table><code>}</code></dt><dd><p>A scroll movement. The final scroll destination is relative to the origin.</p></dd></dl><dl><dt class="spec type" id="type-wheel"><a href="#type-wheel" class="anchor"></a><code><span class="keyword">type</span> wheel</code> = <code>[ </code><table class="variant"><tr id="type-wheel.pause" class="anchored"><td class="def constructor"><a href="#type-wheel.pause" class="anchor"></a><code>| </code><code>`pause</code></td><td class="doc"><p>do nothing</p></td></tr><tr id="type-wheel.scroll" class="anchored"><td class="def constructor"><a href="#type-wheel.scroll" class="anchor"></a><code>| </code><code>`scroll <span class="keyword">of</span> <a href="index.html#type-scroll">scroll</a></code></td><td class="doc"><p>scroll to a position</p></td></tr></table><code> ]</code></dt><dd><p>An action from the scroll wheel.</p></dd></dl><dl><dt class="spec value" id="val-wheel"><a href="#val-wheel" class="anchor"></a><code><span class="keyword">val</span> wheel : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-wheel">wheel</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></dt></dl></section></section><section><header><h2 id="document"><a href="#document" class="anchor"></a>Document</h2></header><dl><dt class="spec value" id="val-title"><a href="#val-title" class="anchor"></a><code><span class="keyword">val</span> title : <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The page <code>title</code> of the current document.</p></dd></dl><dl><dt class="spec value" id="val-source"><a href="#val-source" class="anchor"></a><code><span class="keyword">val</span> source : <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The HTML <code>source</code> code of the current document.</p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>The current page, printed as a PDF in base64.</p></dd></dl><dl><dt class="spec value" id="val-screenshot"><a href="#val-screenshot" class="anchor"></a><code><span class="keyword">val</span> screenshot : <span>?&#8288;elt:<a href="index.html#type-elt">elt</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span>string <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Returns a screenshot of the current page, or of the provided <code>?elt</code>. Encoded in base64.</p></dd></dl><dl><dt class="spec value" id="val-switch_to_frame"><a href="#val-switch_to_frame" class="anchor"></a><code><span class="keyword">val</span> switch_to_frame : <span>[ `top <span><span>| `id</span> of int</span> <span><span>| `elt</span> of <a href="index.html#type-elt">elt</a></span> ]</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Focus the selected frame inside the current document.</p><ul><li>The <code>`top</code> frame is the current document root.</li><li>The <code>`id n</code> frame is the <code>n</code>th frame in the page.</li><li>The <code>`elt e</code> frame is the frame associated with the HTML element <code>e</code>.</li></ul></dd></dl><dl><dt class="spec value" id="val-switch_to_parent_frame"><a href="#val-switch_to_parent_frame" class="anchor"></a><code><span class="keyword">val</span> switch_to_parent_frame : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Focus the parent of the currently selected frame.</p></dd></dl><dl><dt class="spec module" id="module-Window"><a href="#module-Window" class="anchor"></a><code><span class="keyword">module</span> <a href="Window/index.html">Window</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Windows and tabs management.</p></dd></dl><dl><dt class="spec module" id="module-Alert"><a href="#module-Alert" class="anchor"></a><code><span class="keyword">module</span> <a href="Alert/index.html">Alert</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Popup management: alert, confirm and prompt</p></dd></dl></section><section><header><h2 id="javascript-execution"><a href="#javascript-execution" class="anchor"></a>Javascript execution</h2></header><dl><dt class="spec value" id="val-execute"><a href="#val-execute" class="anchor"></a><code><span class="keyword">val</span> execute : string <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>excute &quot;js&quot;</code> runs the <code>js</code> on the current page, returning its result in <code>json</code>.</p></dd></dl><dl><dt class="spec value" id="val-execute_async"><a href="#val-execute_async" class="anchor"></a><code><span class="keyword">val</span> execute_async : string <span>&#45;&gt;</span> <span><a href="index.html#type-json">json</a> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>excute_async &quot;js&quot;</code> runs the <code>js</code> asynchronously on the current page.</p></dd></dl></section></div></div></div></div></body></html>